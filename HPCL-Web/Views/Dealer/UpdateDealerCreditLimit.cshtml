@model HPCL.Common.Models.ViewModel.Dealer.DealerForCreditSaleViewModel
@using HPCL.Common.Resources
@{
    string CustomerID = ViewBag.CustomerID;
}
<div class="col-lg-12 px-0">
    <div class="bg-white p-2 p-md-4">
        <ul class="breadcrumb bread_custom bg-transparent m-0 pb-1 py-0 px-0">
            <li class="breadcrumb-item"><a href="@Url.Action("DealerCreditMapping","Dealer")" class="text_primary">Dealer Credit Mapping</a> </li>
            <li class="breadcrumb-item font-weight-light">Update Dealer Credit Limit</li>
        </ul>
        <form class="toBeHiddenOnSuccess">
            <div class="w-100">
                <div class="col-lg-12 col-md-12 col-12 pl-0 pr-0">
                    <div class="border-1 rounded border-grey pb-3">
                        <p class="text_primary px-3 py-2 bg-grey m-0 font-weight-bold">Update Dealer Credit Limit</p>

                        <div class="col-lg-12 col-md-12 col-12 py-3">
                            <div class="d-flex align-items-center flex-wrap">
                                <div class="col-lg-6 col-12">
                                    <div class="d-flex align-items-center flex-wrap mb-3">
                                        <label class="font-weight-normal col-md-4 col-12">Customer ID</label>
                                        <div class="col-md-6 col-12">
                                            <div class="custom_select">
                                                @Html.TextBoxFor(m => m.CustomerID, new { @class = "form-control", maxlength = "10", onkeypress = "return isNumberKey(event)", autocomplete = "off" })
                                                <span class="error" id="CustomerId_error"></span>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="d-flex align-items-center flex-wrap mb-3">
                                        <label class="font-weight-normal col-md-4 col-12">Download Template</label>
                                        <div class="col-md-6 col-12">
                                            <div class="custom_select">
                                                <div class="px-2">
                                                    <button class="btn btn_primary" type="button" onclick="exportReportToExcel()" id="btnDownload">DOWNLOAD</button>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="d-flex align-items-center flex-wrap mb-3">
                                        <label class="font-weight-normal col-md-4 col-12">Upload Template</label>
                                        <div class="col-md-6 col-12">
                                            <div class="custom_select">
                                               <input type="file" class="form-control">
                                            </div>
                                        </div>

                                    </div>
                                </div>



                            </div>
                            <div class="clearfix"></div>

                            <div class="d-flex align-items-center flex-wrap mb-3 justify-content-center">
                                <div class="px-2">
                                    <button class="btn btn_primary" type="button"  onclick="uploadBulkLimitRow()"    id="btnSubmit">SUBMIT</button>
                                </div>
                                
                            </div>

                        </div>
                        <div class="clearfix"></div>
                    </div>


                </div>
            </div>
        </form>
        


        <div class="clearfix"></div>
    </div>
</div>
<script type="text/javascript">
     $(document).ready(function () {
         $("#CustomerID").attr("disabled",true);
         

     });
     
        function exportReportToExcel() {
            var csv_data = [];
            var csvrow = [];
            csvrow.push("Card Number", "Sale Transaction Limit", "Daily Sale Limit", "Monthly Sale Limit");
            csv_data.push(csvrow.join(","));
            csv_data = csv_data.join('\n');
            downloadCSVFile(csv_data);
        }
         function downloadCSVFile(csv_data) {

            // Create CSV file object and feed
            // our csv_data into it
            CSVFile = new Blob([csv_data], {
                type: "text/csv",
                width: "900"
            });

            // Create to temporary link to initiate
            // download process
            var temp_link = document.createElement('a');

            // Download csv file
            temp_link.download = "UpdatedealerCreditLimit.csv";
            var url = window.URL.createObjectURL(CSVFile);
            temp_link.href = url;

            // This link should not be displayed
            temp_link.style.display = "none";
            document.body.appendChild(temp_link);

            // Automatically click the link to
            // trigger download
            temp_link.click();
            document.body.removeChild(temp_link);
        }
 
</script>