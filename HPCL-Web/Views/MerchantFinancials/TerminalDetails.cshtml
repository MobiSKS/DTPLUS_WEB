@model HPCL.Common.Models.ResponseModel.MerchantFinancial.GetTerminalDetailsResponse
@using Microsoft.AspNetCore.Http;

<div class="col-lg-12 p-4 p-md-4">
    <div class="bg-white p-2 p-md-4">
        <form>
            <div class="w-100">
                <div class="col-lg-12 col-md-12 col-12 pl-0 pr-0">
                    <div class="border-1 rounded border-grey pb-3">
                        <p class="text_primary px-3 py-2 bg-grey m-0 font-weight-bold">Terminal Details</p>
                        <div class="col-lg-12 col-md-12 col-12 py-3">

                            <fieldset class="border-1 rounded border-grey pt-3">
                                <legend class="font-12 font-weight-bold d-inline-block w-auto ml-3 mb-0 px-2">Terminal Details</legend>
                                <div class="d-flex align-items-center flex-wrap">
                                    <div class="col-lg-6 col-12">
                                        <div class="d-flex align-items-center flex-wrap mb-3">
                                            <label class="font-weight-normal col-md-4 col-12">Terminal ID </label>
                                            <div class="col-md-7 col-12">
                                                <div class="custom_select">
                                                    <input type="text" class="form-control" name="BatchId" value="@Model.objTerminalDetails[0].TerminalId" readonly="readonly" />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-12">
                                        <div class="d-flex align-items-center flex-wrap mb-3">
                                            <label class="font-weight-normal offset-md-1 col-md-4 col-12">Merchant ID </label>
                                            <div class="col-md-7 col-12">
                                                <div class="custom_select">
                                                    <input type="text" class="form-control" name="TerminalId" value="@Model.objTerminalDetails[0].MerchantId" readonly="readonly" />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="d-flex align-items-center flex-wrap">
                                    <div class="col-lg-6 col-12">
                                        <div class="d-flex align-items-center flex-wrap mb-3">
                                            <label class="font-weight-normal col-md-4 col-12">Approval Date </label>
                                            <div class="col-md-7 col-12">
                                                <div class="custom_select">
                                                    <input type="text" class="form-control" name="BatchId" value="@Model.objTerminalDetails[0].ApprovalDate" readonly="readonly" />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-12">
                                        <div class="d-flex align-items-center flex-wrap mb-3">
                                            <label class="font-weight-normal offset-md-1 col-md-4 col-12">Merchant City </label>
                                            <div class="col-md-7 col-12">
                                                <div class="custom_select">
                                                    <input type="text" class="form-control" name="TerminalId" value="@Model.objTerminalDetails[0].MerchantCity" readonly="readonly" />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>

                            <fieldset class="border-1 rounded border-grey pt-3">
                                <legend class="font-12 font-weight-bold d-inline-block w-auto ml-3 mb-0 px-2">Transaction Details</legend>
                                <div class="d-flex align-items-center flex-wrap">

                                    <div class="col-lg-6 col-12">
                                        <div class="d-flex align-items-center flex-wrap mb-3">
                                            <label class="font-weight-normal col-md-4 col-12">First Transaction Date </label>
                                            <div class="col-md-7 col-12">
                                                <div class="custom_select">
                                                    <input type="text" class="form-control" name="BatchId" value="@Model.objTerminalDetails[0].FirstTransactionDate" readonly="readonly" />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-12">
                                        <div class="d-flex align-items-center flex-wrap mb-3">
                                            <label class="font-weight-normal offset-md-1 col-md-4 col-12">Last Transaction Date </label>
                                            <div class="col-md-7 col-12">
                                                <div class="custom_select">
                                                    <input type="text" class="form-control" name="TerminalId" value="@Model.objTerminalDetails[0].LastTransactionDate" readonly="readonly" />
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </fieldset>

                            <fieldset class="border-1 rounded border-grey pt-3">
                                <legend class="font-12 font-weight-bold d-inline-block w-auto ml-3 mb-0 px-2">Terminal Deployment Status</legend>

                                <div class="d-flex align-items-center flex-wrap">
                                    <div class="col-lg-6 col-12">
                                        <div class="d-flex align-items-center flex-wrap mb-3">
                                            <label class="font-weight-normal col-md-8 col-12">Current Terminal Deployment Status</label>
                                            <div>
                                                <div class="custom_select">
                                                    <label class="form-control">@Model.objTerminalDetails[0].DeploymentStatus</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>


                                @if (Model.objTerminalDeploymentDetail.Count() > 0)
                                {
                                    <div class="table-responsive" id="tblResponse">
                                        <table id="MerchantSearchTbl" class="table table-striped d-block table-bordered table-responsive nowrap mt-3" style="display:inline-table;width:100%;">
                                            <thead>
                                                <tr>
                                                    <th>S No.</th>
                                                    <th>Events</th>
                                                    <th>Date</th>
                                                    <th>Comment</th>
                                                    <th>Delivered To</th>
                                                </tr>
                                            </thead>

                                            <tbody id="searchMerchantTableBody">
                                                @{
                                                    int sno = 0;
                                                }
                                                @foreach (var item in Model.objTerminalDeploymentDetail)
                                                {
                                                    <tr>
                                                        <td>
                                                            @{ sno++; }
                                                            @sno
                                                        </td>
                                                        <td>@item.Events</td>
                                                        <td>@item.Date</td>
                                                        <td>@item.Comments</td>
                                                        <td>@item.DeliveredTo</td>
                                                    </tr>
                                                }
                                            </tbody>


                                        </table>
                                    </div>
                                }
                                else
                                {
                                    <div class="mb-3 text-center" style="background-color: #f9c9c9; color: #8d0d0d; border-color: #f3abab;">
                                        No Record Found
                                    </div>
                                }

                            </fieldset>

                            <div class="clearfix"></div>

                            <div class="d-flex align-items-center justify-content-center mt-0" style="padding:5px;">
                                <div class="px-2">
                                    <button class="btn btn_primary" type="button"  onclick="location.href='@Url.Action("SettlementDetails")'">BACK</button>
                                </div>
                            </div>

                            <div class="clearfix"></div>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                </div>
            </div>
        </form>
        <div class="clearfix"></div>
    </div>
</div>
