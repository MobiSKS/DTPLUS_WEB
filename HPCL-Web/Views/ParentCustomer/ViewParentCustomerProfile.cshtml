@model HPCL.Common.Models.ViewModel.ParentCustomer.ManageProfileViewModel


<div class="col-lg-12">
    <div class="bg-white p-2 p-md-4">
        @if (ViewBag.IsSearch != "false" && ViewBag.IsSearch != null)
        {
            <ul class="breadcrumb bread_custom bg-transparent m-0 pb-1 py-0 px-0">
                <li class="breadcrumb-item"><a href="@Url.Action("CustomerBasicSearch","ParentCustomer")" class="text_primary">Customer/Card Search</a> </li>
                <li class="breadcrumb-item font-weight-light">View Customer Profile</li>
            </ul>
        }
        else
        {
            <ul class="breadcrumb bread_custom bg-transparent m-0 pb-1 py-0 px-0">
                <li class="breadcrumb-item"><a href="@Url.Action("ManageProfile","ParentCustomer")" class="text_primary">Manage Profile</a> </li>
                <li class="breadcrumb-item font-weight-light">View Customer Profile</li>
            </ul>
        }
        @if (ViewBag.Success != "false" && ViewBag.Success != null)
        {
            <div id="reason" class="alert alert-success text-center">@ViewBag.Success</div>
        }
        @if (ViewBag.Success == "false" || ViewBag.Success == null)
        {
            <ul class="nav nav-tabs mt-2 form_tabs" id="formTab" role="tablist">
                <li class="nav-item"> <a class="nav-link active" id="basicInfo-tab" data-toggle="tab" href="#basicInfo" role="tab" aria-controls="basicInfo" aria-selected="true">Basic Information</a> </li>
                <li class="nav-item"> <a class="nav-link disable" id="address-tab" data-toggle="tab" href="#address" role="tab" aria-controls="address" aria-selected="false">Address</a> </li>
                <li class="nav-item"> <a class="nav-link disable" id="officialDetails-tab" data-toggle="tab" href="#officialDetails" role="tab" aria-controls="officialDetails" aria-selected="false">Key Official Details</a> </li>
            </ul>
            <form name="applicationForm" method="post" class="w-100">

                <div class="tab-content mt-3" id="myTabContent">
                    <div class="tab-pane fade show active" id="basicInfo" role="tabpanel" aria-labelledby="basicInfo-tab">
                        <div class="w-100">
                            <div class="col-lg-6 col-md-12 col-12 pl-0 pr-md-2 pr-0 py-2">
                                <div class="border-1 rounded border-grey">
                                    <p class="text_primary px-3 py-2 bg-grey m-0 font-weight-bold">Application Details</p>
                                    <div class="alert alert-danger alert-cust-success" id="dvRemarks" style="@(Model.Remarks=="" ? "display:none":"display:block")">
                                        @Html.DisplayFor(m => m.Remarks)
                                    </div>
                                    <div class="py-4 pr-4 pl-0 px-md-4">
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal col-md-4 col-12">Form No. <sup class="text-danger">*</sup></label>
                                            <div class="col-md-8 col-12">
                                                @Html.TextBoxFor(m => m.FormNumber, new { placeholder = "Form Number", @class = "form-control", maxlength = "10", onkeypress = "return isNumberKey(event)", autocomplete = "off", @readonly = "readonly" })
                                                <span class="error" id="formNumber_error"></span>
                                            </div>
                                        </div>
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal col-md-4 col-12">Customer Type <sup class="text-danger">*</sup></label>
                                            <div class="col-md-8 col-12">
                                                <div class="custom_select">

                                                    <select name="CustomerTypeID" id="CustomerTypeID" class="form-control" disabled>
                                                        <option value="Fleet">Fleet</option>
                                                    </select>
                                                </div>
                                                <span class="error" id="customerType_error"></span>
                                            </div>
                                        </div>
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal col-md-4 col-12">Customer Sub Type <sup class="text-danger">*</sup></label>
                                            <div class="col-md-8 col-12">
                                                <div class="custom_select">
                                                    <select name="CustomerSubTypeID" id="CustomerSubTypeID" class="form-control" disabled>
                                                        <option value="Parent">Parent</option>
                                                    </select>
                                                </div>
                                                <span class="error" id="customerSubType_error"></span>
                                            </div>
                                        </div>
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal col-md-4 col-12">Date of Application <sup class="text-danger">*</sup></label>
                                            <div class="col-md-8 col-12">
                                                @Html.TextBoxFor(m => m.CustomerDateOfApplication, new { @class = "form-control fromDate",@placeholder="dd-mm-yyyy", autocomplete = "off" })
                                                <span class="error" id="applicationDate_error"></span>
                                            </div>
                                        </div>
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal col-md-4 col-12">SBU Type</label>
                                            <div class="col-md-8 col-12">
                                                <div class="custom_select">
                                                    @Html.DropDownListFor(m => m.SBUTypeId, new SelectList(Model.SBUTypes, "SBUId", "SBUName"), new { @class = "form-control" })
                                                </div>

                                            </div>
                                        </div>
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal col-md-4 col-12">Zonal Office <sup class="text-danger">*</sup></label>
                                            <div class="col-md-8 col-12">
                                                <div class="custom_select">
                                                    @Html.DropDownListFor(m => m.CustomerZonalOfficeID, new SelectList(Model.CustomerZonalOfficeMdl, "ZonalOfficeID", "ZonalOfficeName"), new { @class = "form-control" })
                                                </div>
                                                <span class="error" id="zonalOffice_error"></span>
                                            </div>
                                        </div>
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal col-md-4 col-12">Regional Office <sup class="text-danger">*</sup></label>
                                            <div class="col-md-8 col-12">
                                                <div class="custom_select">
                                                    @Html.DropDownListFor(m => m.CustomerRegionID, new SelectList(Model.CustomerRegionMdl, "RegionalOfficeID", "RegionalOfficeName"), new { @class = "form-control" })
                                                </div>
                                                <span class="error" id="regionalOffice_error"></span>
                                            </div>
                                        </div>
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal col-md-4 col-12">Sales Area <sup class="text-danger">*</sup></label>
                                            <div class="col-md-8 col-12">
                                                @Html.DropDownListFor(m => m.CustomerSalesAreaID, new SelectList(Model.SalesAreaMdl, "SalesAreaID", "SalesAreaName"), new { @class = "form-control" })
                                                <span class="error" id="salesArea_error"></span>
                                            </div>
                                        </div>


                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6 col-md-12 col-12 pr-0 pl-md-2 pl-0 py-2">
                                <div class="border-1 rounded border-grey h-100">
                                    <p class="text_primary px-3 py-2 bg-grey m-0 font-weight-bold">Personal Details</p>
                                    <div class="py-4 pr-4 pl-0 px-md-4">
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal col-md-4 col-12">Individual/Org. Name <sup class="text-danger">*</sup></label>
                                            <div class="col-md-8 col-12">
                                                <div class="row">
                                                    <div class="col-4">
                                                        <div class="custom_select">
                                                            @Html.DropDownListFor(x => x.IndividualOrgNameTitle, new[]{
                                                        new SelectListItem(){ Text = "Title", Value = "-1" },
                                                        new SelectListItem(){ Text = "Mr", Value = "Mr"},
                                                        new SelectListItem(){ Text = "Ms", Value = "Ms"},
                                                        new SelectListItem(){ Text = "M/s", Value = "M/s"},
                                                        }, null, new { @class = "form-control px-0" })
                                                        </div>
                                                        <span class="error" id="salutaion_error"></span>
                                                    </div>
                                                    <div class="col-8 pl-0">
                                                        @Html.TextBoxFor(m => m.IndividualOrgName, new { placeholder = "Individual/Org. Name", @class = "form-control", autocomplete = "off", maxlength = "80" })
                                                        <span class="error" id="individualName_error"></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal col-md-4 col-12">Name on Card <sup class="text-danger">*</sup></label>
                                            <div class="col-md-8 col-12">
                                                @Html.TextBoxFor(m => m.CustomerNameOnCard, new { placeholder = "Name on Card", @class = "form-control", autocomplete = "off", maxlength = "22" })
                                                <span class="error" id="nameOnCard_error"></span>
                                            </div>
                                        </div>
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal col-md-4 col-12">Type of Business Entity <sup class="text-danger">*</sup></label>
                                            <div class="col-md-8 col-12">
                                                <div class="custom_select">
                                                    @Html.DropDownListFor(m => m.CustomerTbentityID, new SelectList(Model.CustomerTbentityMdl, "TBEntityID", "TBEntityName"), new { @class = "form-control" })
                                                </div>
                                                <span class="error" id="typeOfbusiness_error"></span>
                                            </div>
                                        </div>
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal col-md-4 col-12">Residence Status<sup class="text-danger">*</sup></label>
                                            <div class="col-md-8 col-12">
                                                <div class="custom_select">
                                                    @Html.DropDownListFor(x => x.CustomerResidenceStatus, new[]{
                                                new SelectListItem(){ Text = "Indian", Value = "Indian"},
                                                new SelectListItem(){ Text = "NRI", Value = "NRI"},
                                                }, null, new { @class = "form-control" })
                                                </div>
                                                <span class="error" id="residenceStatus_error"></span>
                                            </div>
                                        </div>
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal col-md-4 col-12" id="lblPanText">Income Tax PAN<sup class="text-danger">*</sup></label>
                                            <div class="col-md-6 col-12" id="dvPan">
                                                @Html.TextBoxFor(m => m.CustomerIncomeTaxPan, new { @class = "form-control", @style = "text-transform:uppercase", autocomplete = "off" })
                                                <span class="error" id="incomeTaxPan_error"></span>
                                            </div>
                                            <div class="col-md-2 col-12 pl-md-0" style="display:none">
                                                <button class="btn btn_primary" type="button" id="btnVerify" onclick="ValidatePAN()">Verify</button>
                                            </div>
                                        </div>

                                        <div class="form-group align-items-center flex-wrap" style="display:none" id="lblCustPOI">
                                            <p class="alert alert-info" style="padding: 5px 10px;">** Please provide the document details that you are going to upload as POI.</p>
                                        </div>
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal col-md-4 col-12" id="lblPanCardRemarks" style="display:none;">PAN Card Remarks<sup class="text-danger">*</sup></label>
                                            <div class="col-md-8 col-12">
                                                <div class="custom_select">
                                                    @Html.TextBoxFor(m => m.PanCardRemarks, new { @class = "form-control", autocomplete = "off", maxlength = "50", @readonly = "readonly",style="display:none" })
                                                </div>
                                                <span class="error" id="PanCardRemarks_error"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="clearfix"></div>
                            <div class="d-flex align-items-center justify-content-center mt-3">
                                <div class="px-2">
                                    <button class="btn btn_primary" type="button" id="btnshowregAddress" onclick="return viewregAddressParent()">Next</button>
                                </div>
                            </div>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                    <div class="tab-pane fade" id="address" role="tabpanel" aria-labelledby="address-tab">
                        <div class="border-1 rounded border-grey h-100">
                            <p class="text_primary px-3 py-2 bg-grey m-0 font-weight-bold">Communication Address</p>
                            <div class="py-2 p-md-4">
                                <div class="d-flex align-items-center justify-content-between flex-wrap row">
                                    <div class="col-md-6 col-12">
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal offset-md-1 col-md-3 col-12">Address 1<sup class="text-danger">*</sup></label>
                                            <div class="col-md-7 col-12">
                                                @Html.TextBoxFor(m => m.CommunicationAddress1, new { @class = "form-control", autocomplete = "off", maxlength = "50" })
                                                <span class="error" id="comm_address1_error"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 col-12">
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal offset-md-1 col-md-3 col-12">Address 2<sup class="text-danger">*</sup></label>
                                            <div class="col-md-7 col-12">
                                                @Html.TextBoxFor(m => m.CommunicationAddress2, new { @class = "form-control", autocomplete = "off", maxlength = "50" })
                                                <span class="error" id="comm_address2_error"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 col-12">
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal offset-md-1 col-md-3 col-12">Address 3</label>
                                            <div class="col-md-7 col-12">
                                                @Html.TextBoxFor(m => m.CommunicationAddress3, new { @class = "form-control", autocomplete = "off", maxlength = "50" })
                                                <span class="error" id="comm_address3_error"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 col-12">
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal offset-md-1 col-md-3 col-12">Location</label>
                                            <div class="col-md-7 col-12">
                                                @Html.TextBoxFor(m => m.CommunicationLocation, new { @class = "form-control", autocomplete = "off", maxlength = "20" })
                                                <span class="error" id="comm_location_error"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 col-12">
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal offset-md-1 col-md-3 col-12">City<sup class="text-danger">*</sup></label>
                                            <div class="col-md-7 col-12">
                                                @Html.TextBoxFor(m => m.CommunicationCity, new { @class = "form-control", autocomplete = "off", maxlength = "20" })
                                                <span class="error" id="comm_city_error"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 col-12">
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal offset-md-1 col-md-3 col-12">PIN code<sup class="text-danger">*</sup></label>
                                            <div class="col-md-7 col-12">
                                                @Html.TextBoxFor(m => m.CommunicationPinCode, new { @class = "form-control", maxlength = "6", onkeypress = "return isNumberKey(event)", autocomplete = "off" })
                                                <span class="error" id="comm_pincode_error"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 col-12">
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal offset-md-1 col-md-3 col-12">State<sup class="text-danger">*</sup></label>
                                            <div class="col-md-7 col-12">
                                                <div class="custom_select">
                                                    @Html.DropDownListFor(m => m.CommunicationStateID, new SelectList(Model.CustomerStateMdl, "StateID", "StateName"), new { @class = "form-control" })
                                                </div>
                                                <span class="error" id="comm_states_error"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 col-12">
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal offset-md-1 col-md-3 col-12">District<sup class="text-danger">*</sup></label>
                                            <div class="col-md-7 col-12">
                                                <div class="custom_select">
                                                    @Html.DropDownListFor(m => m.CommunicationDistrictId, new SelectList(Model.CommunicationDistrictMdl, "districtID", "districtName"), new { @class = "form-control" })
                                                </div>
                                                <span class="error" id="comm_district_error"></span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-6 col-12">
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal offset-md-1 col-md-3 col-12">Mobile<sup class="text-danger">*</sup></label>
                                            <div class="col-md-7 col-12">
                                                @Html.TextBoxFor(m => m.CommunicationMobileNumber, new { @class = "form-control", maxlength = "10", onkeypress = "return isNumberKey(event)", autocomplete = "off" })
                                                <div class="error" id="comm_mobileNumber_error"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 col-12">
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal offset-md-1 col-md-3 col-12">Email<sup class="text-danger">*</sup></label>
                                            <div class="col-md-7 col-12">
                                                @Html.TextBoxFor(m => m.CommunicationEmail, new { @class = "form-control", @style = "text-transform:lowercase", autocomplete = "off", maxlength = "50" })
                                                <div class="error" id="comm_email_error"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="border-1 rounded border-grey h-100 mt-3">
                            <p class="text_primary px-3 py-2 bg-grey m-0 font-weight-bold">Permanent/Registered Office Address <label class="text-danger">(if different from Communication Address)</label></p>
                            <div class="py-2 p-md-4">
                                <span class="d-flex align-items-center justify-content-start px-3 mb-3">
                                    <input type="checkbox" name="sameAddressCheck" id="sameAddressCheck" class="mr-2" onclick="sameAddressAsCommunication()">
                                    <span class="m-0">Same as Communication Address</span>
                                </span>
                                <div class="row w-100" id="permanent_add">
                                    <div class="d-flex align-items-center justify-content-between flex-wrap">
                                        <div class="col-md-6 col-12">
                                            <div class="form-group d-flex align-items-center flex-wrap">
                                                <label class="font-weight-normal offset-md-1 col-md-3 col-12">Address 1<sup class="text-danger">*</sup></label>
                                                <div class="col-md-7 col-12">
                                                    @Html.TextBoxFor(m => m.PerOrRegAddress1, new { @class = "form-control", autocomplete = "off", maxlength = "50" })
                                                    <div class="error" id="perma_address1_error"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6 col-12">
                                            <div class="form-group d-flex align-items-center flex-wrap">
                                                <label class="font-weight-normal offset-md-2 col-md-3 col-12">Address 2<sup class="text-danger">*</sup></label>
                                                <div class="col-md-7 col-12">
                                                    @Html.TextBoxFor(m => m.PerOrRegAddress2, new { @class = "form-control", autocomplete = "off", maxlength = "50" })
                                                    <div class="error" id="perma_address2_error"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6 col-12">
                                            <div class="form-group d-flex align-items-center flex-wrap">
                                                <label class="font-weight-normal offset-md-1 col-md-3 col-12">Address 3</label>
                                                <div class="col-md-7 col-12">
                                                    @Html.TextBoxFor(m => m.PerOrRegAddress3, new { @class = "form-control", autocomplete = "off", maxlength = "50" })
                                                    <div class="error" id="perma_address3_error"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6 col-12">
                                            <div class="form-group d-flex align-items-center flex-wrap">
                                                <label class="font-weight-normal offset-md-2 col-md-3 col-12">Location</label>
                                                <div class="col-md-7 col-12">
                                                    @Html.TextBoxFor(m => m.PerOrRegAddressLocation, new { @class = "form-control", autocomplete = "off", maxlength = "20" })
                                                    <span class="error" id="perma_location_error"></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6 col-12">
                                            <div class="form-group d-flex align-items-center flex-wrap">
                                                <label class="font-weight-normal offset-md-1 col-md-3 col-12">City<sup class="text-danger">*</sup></label>
                                                <div class="col-md-7 col-12">
                                                    @Html.TextBoxFor(m => m.PerOrRegAddressCity, new { @class = "form-control", autocomplete = "off", maxlength = "20" })
                                                    <span class="error" id="perma_city_error"></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6 col-12">
                                            <div class="form-group d-flex align-items-center flex-wrap">
                                                <label class="font-weight-normal offset-md-2 col-md-3 col-12">PIN code<sup class="text-danger">*</sup></label>
                                                <div class="col-md-7 col-12">
                                                    @Html.TextBoxFor(m => m.PerOrRegAddressPinCode, new { @class = "form-control", maxlength = "6", onkeypress = "return isNumberKey(event)", autocomplete = "off" })
                                                    <span class="error" id="perma_pincode_error"></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6 col-12">
                                            <div class="form-group d-flex align-items-center flex-wrap">
                                                <label class="font-weight-normal offset-md-1 col-md-3 col-12">State<sup class="text-danger">*</sup></label>
                                                <div class="col-md-7 col-12">
                                                    <div class="custom_select">
                                                        @Html.DropDownListFor(m => m.PerOrRegAddressStateID, new SelectList(Model.CustomerStateMdl, "StateID", "StateName"), new { @class = "form-control" })
                                                    </div>
                                                    <span class="error" id="perma_state_error"></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6 col-12">
                                            <div class="form-group d-flex align-items-center flex-wrap">
                                                <label class="font-weight-normal offset-md-2 col-md-3 col-12">District<sup class="text-danger">*</sup></label>
                                                <div class="col-md-7 col-12">
                                                    <div class="custom_select">
                                                        @Html.DropDownListFor(m => m.PermanentDistrictId, new SelectList(Model.PerOrRegAddressDistrictMdl, "districtID", "districtName"), new { @class = "form-control" })
                                                    </div>
                                                    <span class="error" id="perma_district_error"></span>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="clearfix"></div>
                        <div class="d-flex align-items-center justify-content-center mt-3">
                            <div class="px-2">
                                <button class="btn btn_primary px-4 py-2" type="button" onclick="showBasicInfo()">Previous</button>
                            </div>
                            <div class="px-2">
                                <button class="btn btn_primary px-4 py-2" type="button" onclick="return ViewOfficialDetails()">Next</button>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="officialDetails" role="tabpanel" aria-labelledby="officialDetails-tab">
                        <div class="border-1 rounded border-grey w-100">
                            <p class="text_primary px-3 py-2 bg-grey m-0 font-weight-bold">Key Official</p>
                            <div class="py-2 p-md-4">
                                <div class="d-flex align-items-start justify-content-between flex-wrap row">
                                    <div class="col-lg-6 col-md-12 col-12">
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal offset-md-1 col-md-3 col-12">Individual Initials </label>
                                            <div class="col-md-7 col-12">
                                                @Html.TextBoxFor(m => m.KeyOffIndividualInitials, new { @class = "form-control", autocomplete = "off", maxlength = "30" })
                                                <span class="error" id="KeyOffIndividualInitials_error"></span>
                                            </div>
                                        </div>
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal offset-md-1 col-md-3 col-12">Middle Name </label>
                                            <div class="col-md-7 col-12">
                                                @Html.TextBoxFor(m => m.KeyOffMiddleName, new { @class = "form-control", autocomplete = "off", maxlength = "30" })
                                                <span class="error" id="KeyOffMiddleName_error"></span>
                                            </div>
                                        </div>
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal offset-md-1 col-md-3 col-12">Date of Birth</label>
                                            <div class="col-md-7 col-12">
                                                @Html.TextBoxFor(m => m.KeyOfficialDOB, new { @id = "KeyOfficialDOB", @class = "form-control nodefaultDate",@placeholder="dd-mm-yyyy", @autocomplete = "off", @onchange = "validateDate('KeyOfficialDOB','KeyOfficialDOB_error');" })
                                                <span class="error" id="KeyOfficialDOB_error"></span>
                                            </div>
                                        </div>
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal offset-md-1 col-md-3 col-12">Email</label>
                                            <div class="col-md-7 col-12">
                                                @Html.TextBoxFor(m => m.KeyOffEmail, new { @class = "form-control", autocomplete = "off", @style = "text-transform:lowercase", maxlength = "50" })
                                                <span class="error" id="KeyOffEmail_error"></span>
                                            </div>
                                        </div>
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal offset-md-1 col-md-3 col-12">Designation <sup class="text-danger">*</sup></label>
                                            <div class="col-md-7 col-12">
                                                @Html.TextBoxFor(m => m.KeyOffDesignation, new { @class = "form-control", autocomplete = "off", maxlength = "30" })
                                                <span class="error" id="official_designation_error"></span>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="col-lg-6 col-md-12 col-12">
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal offset-md-1 col-md-3 col-12">First Name <sup class="text-danger">*</sup></label>
                                            <div class="col-md-7 col-12">
                                                <div class="row">
                                                    <div class="col-4">
                                                        <div class="custom_select">
                                                            @Html.DropDownListFor(x => x.KeyOffTitle, new[]{
                                                        new SelectListItem(){ Text = "Title", Value = "-1"},
                                                        new SelectListItem(){ Text = "Mr", Value = "Mr"},
                                                        new SelectListItem(){ Text = "Ms", Value = "Ms"},
                                                        new SelectListItem(){ Text = "M/s", Value = "M/s"},
                                                        }, null, new { @class = "form-control px-0" })
                                                        </div>
                                                        <span class="error" id="officialTitle_error"></span>
                                                    </div>
                                                    <div class="col-md-8 col-12">
                                                        @Html.TextBoxFor(m => m.KeyOffFirstName, new { @class = "form-control", autocomplete = "off", maxlength = "30" })
                                                        <span class="error" id="official_fName_error"></span>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>

                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal offset-md-1 col-md-3 col-12">Last Name</label>
                                            <div class="col-md-7 col-12">
                                                @Html.TextBoxFor(m => m.KeyOffLastName, new { @class = "form-control", autocomplete = "off", maxlength = "30" })
                                                <span class="error" id="KeyOffLastName_error"></span>
                                            </div>
                                        </div>
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal offset-md-1 col-md-3 col-12 px-0">Date of Anniversary</label>
                                            <div class="col-md-7 col-12">
                                                @Html.TextBoxFor(m => m.KeyOffDateOfAnniversary, new { @id = "KeyOffDateOfAnniversary", @class = "form-control nodefaultDate",@placeholder="dd-mm-yyyy", @autocomplete = "off" , @onchange = "validateDate('KeyOffDateOfAnniversary','KeyOffDateOfAnniversary_error');"})
                                                <span class="error" id="KeyOffDateOfAnniversary_error"></span>
                                            </div>
                                        </div>
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal offset-md-1 col-md-3 col-12">Mobile <sup class="text-danger">*</sup></label>
                                            <div class="col-md-7 col-12">
                                                @Html.TextBoxFor(m => m.KeyOffMobileNumber, new { @class = "form-control", maxlength = "10", onkeypress = "return isNumberKey(event)", autocomplete = "off" })
                                                <span class="error" id="official_mobile_error"></span>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                        </div>
                        <div class="border-1 rounded border-grey w-100 mt-3">
                            <p class="text_primary px-3 py-2 bg-grey m-0 font-weight-bold">Other Details</p>
                            <div class="py-2 p-md-4">
                                <div class="d-flex align-items-center justify-content-between flex-wrap row">

                                    <div class="col-lg-6 col-md-12 col-12">
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal col-md-5 col-12">Area of Operation</label>
                                            <div class="col-md-7 col-12">
                                                <div class="d-flex align-items-center justify-content-between flex-wrap">
                                                    <label class="d-flex align-items-center justify-content-between">
                                                        @*<input type="checkbox" class="mr-2">*@
                                                        @Html.CheckBoxFor(m => m.InterState, new { id = "hdnInterState" })
                                                        <p class="m-0 ml-2">Inter State</p>
                                                    </label>
                                                    <label class="d-flex align-items-center justify-content-between">
                                                        @*<input type="checkbox" class="mr-2">*@
                                                        @Html.CheckBoxFor(m => m.InterCity, new { id = "hdnInterCity" })
                                                        <p class="m-0 ml-2">Inter City</p>
                                                    </label>
                                                    <label class="d-flex align-items-center justify-content-between">
                                                        @*<input type="checkbox" class="mr-2">*@
                                                        @Html.CheckBoxFor(m => m.IntraCity, new { id = "hdnIntraCity" })
                                                        <p class="m-0 ml-2">Intra City</p>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-md-12 col-12">
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal col-md-5 col-12">Fleet Size (No. of Vehicles Owned)</label>
                                            <div class="col-md-7 col-12">
                                                <div class="d-flex align-items-center justify-content-between flex-wrap">
                                                    <div class="mb-2 mb-sm-2 px-2 col-sm-6 col-md-3">
                                                        <span class="d-flex font-12">HCV</span>
                                                        @Html.TextBoxFor(m => m.FleetSizeNoOfVechileOwnedHCV, new { @class = "w-100 form-control", maxlength = "3", onkeypress = "return isNumberKey(event)" })
                                                        <span class="error" id="FleetSizeNoOfVechileOwnedHCV_error"></span>
                                                    </div>
                                                    <div class="mb-2 mb-sm-2 px-2 col-sm-6 col-md-3">
                                                        <span class="d-flex font-12">LCV</span>
                                                        @Html.TextBoxFor(m => m.FleetSizeNoOfVechileOwnedLCV, new { @class = "w-100 form-control", maxlength = "3", onkeypress = "return isNumberKey(event)" })
                                                        <span class="error" id="FleetSizeNoOfVechileOwnedLCV_error"></span>
                                                    </div>
                                                    <div class="mb-2 mb-sm-2 px-2 col-sm-6 col-md-3">
                                                        <span class="d-flex font-12">MUV/SUV</span>
                                                        @Html.TextBoxFor(m => m.FleetSizeNoOfVechileOwnedMUVSUV, new { @class = "w-100 form-control", maxlength = "3", onkeypress = "return isNumberKey(event)" })
                                                        <span class="error" id="FleetSizeNoOfVechileOwnedMUVSUV_error"></span>
                                                    </div>
                                                    <div class="mb-2 mb-sm-2 px-2 col-sm-6 col-md-3">
                                                        <span class="d-flex font-12">Car/Jeep</span>
                                                        @Html.TextBoxFor(m => m.FleetSizeNoOfVechileOwnedCarJeep, new { @class = "w-100 form-control", maxlength = "3", onkeypress = "return isNumberKey(event)" })
                                                        <span class="error" id="FleetSizeNoOfVechileOwnedCarJeep_error"></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-md-12 col-12">
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal col-md-5 col-12">Type of Fleet</label>
                                            <div class="col-md-7 col-12">
                                                <div class="custom_select">
                                                    @Html.DropDownListFor(m => m.CustomerTypeOfFleetID, new SelectList(Model.CustomerTypeOfFleetMdl, "TypeOfFleetId", "TypeOfFleetName"), new { @class = "form-control" })
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-md-12 col-12">
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal col-md-5 col-12">Card applied for</label>
                                            <div class="col-md-7 col-12">
                                                @Html.TextBoxFor(m => m.KeyOfficialCardAppliedFor, new { @class = "form-control", autocomplete = "off" })
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-md-12 col-12">
                                        <div class="form-group d-flex align-items-center flex-wrap">
                                            <label class="font-weight-normal col-md-5 col-12">Approx Monthly Spends on Vehicles</label>
                                            <div class="col-md-7 col-12">
                                                <div class="row">
                                                    <div class="col-12 col-sm-8">
                                                        <div class="py-2">
                                                            <div class=" position-relative pr-4">
                                                                @Html.TextBoxFor(m => m.KeyOfficialApproxMonthlySpendsonVechile1, new { @class = "form-control", maxlength = "8", onkeypress = "return isNumberKey(event)" })
                                                                <span class="error" id="KeyOfficialApproxMonthlySpendsonVechile1_error"></span>
                                                                <a href="#" class="form_info" title="Fuel in Rs.">?</a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-12 col-sm-4">
                                                        <div class=" py-2">
                                                            <div class=" position-relative pr-4">
                                                                @Html.TextBoxFor(m => m.KeyOfficialApproxMonthlySpendsonVechile2, new { @class = "form-control", maxlength = "5", onkeypress = "return isNumberKey(event)" })
                                                                <span class="error" id="KeyOfficialApproxMonthlySpendsonVechile2_error"></span>
                                                                <a href="#" class="form_info" title="Lube in Rs.">?</a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                        </div>
                        <div class="clearfix"></div>
                        <div class="d-flex align-items-center justify-content-center mt-3">
                            <div class="px-2">
                                <button class="btn btn_primary px-4 py-2" type="button" onclick="showregAddressInfo()">Previous</button>
                            </div>
                            @*  <div class="px-2">
                                <button class="btn btn_primary px-4 py-2" id="btnAdd" type="submit" onclick="return showCardDetails()">Update</button>
                                </div>*@
                        </div>
                    </div>

                    <div style="display:none;">@Html.CheckBoxFor(m => m.IsSameAsCommAddress, new { id = "hdnSameAsCommAddress" })</div>
                    <div style="display:none;">@Html.TextBoxFor(m => m.PerOrRegAddress1, new { id = "hdnPerOrRegAddress1" })</div>
                    <div style="display:none;">@Html.TextBoxFor(m => m.PerOrRegAddress2, new { id = "hdnPerOrRegAddress2" })</div>
                    <div style="display:none;">@Html.TextBoxFor(m => m.PerOrRegAddress3, new { id = "hdnPerOrRegAddress3" })</div>
                    <div style="display:none;">@Html.TextBoxFor(m => m.PerOrRegAddressLocation, new { id = "hdnPerOrRegAddressLocation" })</div>
                    <div style="display:none;">@Html.TextBoxFor(m => m.PerOrRegAddressCity, new { id = "hdnPerOrRegAddressCity" })</div>
                    <div style="display:none;">@Html.TextBoxFor(m => m.PerOrRegAddressPinCode, new { id = "hdnPerOrRegAddressPinCode" })</div>
                    <div style="display:none;">@Html.TextBoxFor(m => m.PerOrRegAddressStateID, new { id = "hdnPerOrRegAddressStateID" })</div>
                    <div style="display:none;">@Html.TextBoxFor(m => m.PerOrRegAddressDistrict, new { id = "hdnPerOrRegAddressDistrict" })</div>
                    <div style="display:none;">@Html.TextBoxFor(m => m.PerOrRegAddressDialCode, new { id = "hdnPerOrRegAddressDialCode" })</div>
                    <div style="display:none;">@Html.TextBoxFor(m => m.PerOrRegAddressPhoneNumber, new { id = "hdnPerOrRegAddressPhoneNumber" })</div>
                    <div style="display:none;">@Html.TextBoxFor(m => m.PermanentFaxCode, new { id = "hdnPermanentFaxCode" })</div>
                    <div style="display:none;">@Html.TextBoxFor(m => m.PermanentFax, new { id = "hdnPermanentFax" })</div>
                    <div style="display:none;">@Html.TextBoxFor(m => m.PerOrRegAddressDialCode, new { id = "hdnPerOrRegAddressDialCode" })</div>
                    @Html.HiddenFor(model => Model.IsDuplicatePanNo)
                    @Html.HiddenFor(model => Model.AllowPanDuplication)
                    @Html.HiddenFor(model => Model.CustomerId)
                    @Html.HiddenFor(model => Model.CustomerReferenceNo)
                    @Html.HiddenFor(model => Model.RequestId)
                    @Html.HiddenFor(model => Model.ExternalPANAPIStatus)
                </div>

                <!-- Modal : Dialog -->
                <!-- PAN Validation Modal -->
            <div class="modal fade" id="panvalidation" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header py-2">
                                <h5 class="modal-title" id="exampleModalLabel" style="font-size:18px;">PAN Validation</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <div class="col-lg-12 col-12">
                                    <div class="d-flex align-items-center justify-content-center flex-wrap mb-0">
                                        <p class="mb-0">Entered PAN is already existing in DT Plus system. Still you want to proceed?</p>
                                    </div>
                                </div>
                                <div class="d-flex align-items-center justify-content-center mt-3">
                                    <div class="px-2">
                                        <button class="btn btn_primary" type="button" onclick="GetClientConfirmation(this)">YES</button>
                                    </div>
                                    <div class="px-2">
                                        <button class="btn btn_primary" type="button" onclick="GetClientConfirmation(this)">NO</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Modal : Dialog -->
                <!-- Modal : Dialog -->
                <!-- PAN ErrorMsg Modal -->
            <div class="modal fade" id="PANErrorMsg" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header py-2">
                                <h5 class="modal-title" id="exampleModalLabel" style="font-size:18px;">PAN Validation</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <div class="col-lg-12 col-12">
                                    <div class="d-flex align-items-center justify-content-center flex-wrap mb-0">
                                        <p class="mb-0">Entered PAN No. does not match with selected Type of Business Entity</p>
                                    </div>
                                </div>
                                <div class="d-flex align-items-center justify-content-center mt-3">
                                    <div class="px-2">
                                        <button class="btn btn_primary" type="button" onclick="HidePANErrorMsgPopup(this)">OK</button>
                                    </div>
                                    <div class="px-2">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Modal : Dialog -->
        </form>

        }
    </div>
</div>
<script type="text/javascript">
                        var custDateOfApplication = $("#CustomerDateOfApplication").val();
                        var OfficialDOB = $("#KeyOfficialDOB").val();
                        var OffDateOfAnniversary = $("#KeyOffDateOfAnniversary").val();
                        var notFoundError = "@ViewBag.NotFoundError";

                        $(document).ready(function () {
                            $('input').attr('disabled', true);
                            $('select').attr('disabled', true);
                            var customerTbentityID = $('#CustomerTbentityID').val();
                            console.log(customerTbentityID);
                            if (customerTbentityID == "10") {
                                $('#lblCustPOI').show();
                                document.getElementById("CustomerIncomeTaxPan").maxLength = 30;
                            }
                            else {
                                $('#lblCustPOI').hide();
                                document.getElementById("CustomerIncomeTaxPan").maxLength = 10;
                            }

                            localStorage.setItem("PANNOALREADYUSED", "1");
                            localStorage.setItem("FORMNOALREADYUSED", "1");
                            localStorage.setItem("MOBILENUMBERREADYUSED", "1");
                            localStorage.setItem("EMAILIDALREADYUSED", "1");
                            localStorage.setItem("DUPLICATEPANUSED", "1");
                            setDOAFormat();


                            $("#CustomerIncomeTaxPan").focus();

                            if ($('#AllowPanDuplication').val() == "Y") {
                                document.getElementById("lblPanCardRemarks").style.display = "block";
                                document.getElementById("PanCardRemarks").style.display = "block";
                                $("#PanCardRemarks").prop('readonly', false);
                            }
                            else {
                                document.getElementById("lblPanCardRemarks").style.display = "none";
                                document.getElementById("PanCardRemarks").style.display = "none";
                                $("#PanCardRemarks").prop('readonly', true);
                            }
                             if (customerTbentityID == 10) {
                                $('#lblPanText').text('');
                                $('#lblPanText').append('Govt. Dept. Identification Details<sup class="text-danger">*</sup>');
                                $('#btnVerify').hide();
                                $('#lblCustPOI').show();
                                document.getElementById('IsDuplicatePanNo').value = "1";
                                document.getElementById("CustomerIncomeTaxPan").maxLength = 30;
                                document.getElementById("dvPan").className = "col-md-8 col-12";
                            }
                            else {
                                $('#lblPanText').text('');
                                $('#lblPanText').append('Income Tax PAN<sup class="text-danger">*</sup>');
                                $('#btnVerify').show();
                                $('#lblCustPOI').hide();
                                document.getElementById("CustomerIncomeTaxPan").maxLength = 10;
                                document.getElementById("dvPan").className = "col-md-6 col-12";
                            }

                            var panNumber = document.getElementById("CustomerIncomeTaxPan").value.trim();

                            if (customerTbentityID == 10)
                            {
                                if (panNumber == "")
                                {
                                    document.getElementById("incomeTaxPan_error").innerHTML = "Govt. Dept. Identification Details required";
                                    document.getElementById("incomeTaxPan_error").className = "error";
                                    return (false);
                                }
                                else
                                {
                                    document.getElementById("incomeTaxPan_error").innerHTML = "";
                                }
                            }
                            else
                            {
                                if (panNumber == "")
                                {
                                    document.getElementById("incomeTaxPan_error").innerHTML = "Income Tax PAN field cannot be left blank";
                                    document.getElementById("incomeTaxPan_error").className = "error";
                                    return (false);
                                }
                                else
                                {
                                    document.getElementById("incomeTaxPan_error").innerHTML = "";
                                }
                            }

                        });

                        function setDOAFormat(){
                            $(".anniversaryDate").attr("readonly", true);
                            $('.anniversaryDate').datepicker({
                                dateFormat: 'dd-mm-yy',
                                changeMonth: true,
                                changeYear: true,
                                maxDate: new Date(today),
                                autoclose: "true"
                            });
                            if (($('.anniversaryDate').val() != undefined)  && ($('.anniversaryDate').val() != "") ){
                                var d1 = stringToDate($('.anniversaryDate').val(),"dd-mm-yyyy");
                                var ye1 = new Intl.DateTimeFormat('en', { year: 'numeric' }).format(d1)
                                var mo1 = new Intl.DateTimeFormat('en', { month: '2-digit' }).format(d1)
                                var da1 = new Intl.DateTimeFormat('en', { day: '2-digit' }).format(d1)
                                $('.anniversaryDate').val(`${da1}-${mo1}-${ye1}`);
                            }
                        }



                        $('select').SumoSelect({
                                placeholder: '--Select--',
                                search: true,
                                searchText: 'Enter Text here.'
                            });

                        $("#btnAdd").click(function () {
                            let flag = 'Y';
                            debugger;
                            if (document.getElementById("sameAddressCheck").checked == true) {

                                $('#hdnPerOrRegAddress1').val($('#CommunicationAddress1').val());
                                $('#PerOrRegAddress1').val($('#CommunicationAddress1').val());
                                $('#hdnPerOrRegAddress2').val($('#CommunicationAddress2').val());
                                $('#hdnPerOrRegAddress3').val($('#CommunicationAddress3').val());
                                $('#hdnPerOrRegAddressLocation').val($('#CommunicationLocation').val());
                                $('#hdnPerOrRegAddressCity').val($('#CommunicationCity').val());
                                $('#hdnPerOrRegAddressStateID').val($('#CommunicationStateID').val());
                                $('#hdnPerOrRegAddressPinCode').val($('#CommunicationPinCode').val());

                            }

                            if (flag == 'N') {
                                $("#applicationForm").submit(function (e) {
                                    e.preventDefault();
                                });
                            }
                        });

                     

                   
           function viewregAddressParent() {
            debugger;

            var ret = true;



            document.getElementById("address-tab").click();
            document.getElementById("address-tab").classList.remove("disable");
            localStorage.setItem("viewregAddressParent", true)
            document.getElementById("basicInfo-tab").classList.add("disable");


            return ret;

        }
     
        function ViewOfficialDetails() {
        debugger;
        var ret = true;



        document.getElementById("officialDetails-tab").click();
        document.getElementById("officialDetails-tab").classList.remove("disable");
        localStorage.setItem("keyOfficial", true);
        localStorage.removeItem("showregAddress");
        document.getElementById("basicInfo-tab").classList.add("disable");
        document.getElementById("address-tab").classList.add("disable");

        return ret;
    }

</script>